---
layout: single
title: "[운영체제] 컴퓨터 시스템의 동작원리"
categories: OS
---

### 컴퓨터 시스템 구조

내부장치 - CPU, 메모리  
외부장치 - 디스크, 키보드, 마우스, 모니터, 네트워크 장치 등

외부장치 -> (input) -> 컴퓨터 (연산수행) -> (output) -> 외부장치

## CPU 연산과 I/O 연산

컴퓨터에서 연산을 한다 == CPU가 무언가 일을 한다.

- 입출력 장치들의 I/O 연산은 입출력 컨트롤러가 담당  
  컨트롤러? 작은 CPU로서 각 하드웨어 장치마다 존재하며 이를 제어한다.

- 컴퓨터 내에서 수행되는 연산은 메인 CPU가 담당한다.

- 각 장치들의 컨트롤러는 장치로부터 들어오고 나가는 데이터를 임시로 저장하는 작은 메모리를 가지고 있다. == 로컬버퍼(local buffer)

인터럽트가 발생하면 CPU는 작업을 멈추고 운영체제 커널 내에서 인터럽트 처리를 위해 정의된 코드를 찾는다.

인터럽트는 크게 <b>하드웨어 인터럽트</b>와 <b>소프트웨어 인터럽트</b>로 구분할 수 있다.  
일반적인 인터럽트는 하드웨어 인터럽트를 가리킴

<b>하드웨어 인터럽트</b>  
하드웨어 인터럽트는 외부장치로부터 요구되는 것으로 전기적인 신호를 사용해 구현

예시 - 입출력 인터럽트, 프로그램 검사 인터럽트 등

<b>소프트웨어 인터럽트</b>
외부가 아닌 CPU 내부에서 자신이 실행한 명령이나 CPU의 명령 실행에 관련된 모듈이 변화하는 경우 발생한다. 이를 트랩(trap)이라고도 부른다.

예외상황(exception) - 프로그램 실행 중 권한이 없는 작업을 시도할 때 발생  
예시 - 나눗셈에서 0으로 나누고자 할 때, 존재하지 않는 메모리 주소에 접근

시스템 콜(system call) - 사용자 프로그램이 운영체제 내부에 정의된 코드르 실행하고 싶을 때  
예시 - 프로그래머가 프로그램 작성 중 키보드 입력이나 화면 출력 작업이 필요할 때 직접 코드를 작성하기보다 이미 존재하는 운영체제 커널의 코드 호출

<b>인터럽트 핸들링(interrupt handling)?</b>  
인터럽트가 발생한 경우에 처리해야할 일의 절차를 의미한다.

<b>프로세스 제어블록(Process Control Block : PCB)?</b>  
현재 시스템 내에서 실행되는 프로그램들을 관리하는 자료구조

## 입출력 구조

입출력(I/O)이란 컴퓨터 시스템이 컴퓨터 외부의 입출력 장치들과 데이터를 주고 받는 것

### 입출력 방식

- 동기식 입출력  
  입출력이 완료되어야 이후의 작업이 가능하다 - 자원 낭비 초래
  이를 해결하기 위해 입출력이 진행 중인 프로그램은 봉쇄 상태로 전환한다. (CPU의 작업 목록에서 일시적으로 제외)  
  동기성을 보장하기 위해 장치마다 큐를 두어 요청 순서대로 처리한다.

- 비동기식 입출력
  CPU 제어권을 입출력 연산을 호출한 프로그램에게 곧바로 다시 부여하는 방식
